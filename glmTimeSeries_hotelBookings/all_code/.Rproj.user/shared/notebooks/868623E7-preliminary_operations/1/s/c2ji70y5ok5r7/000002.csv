"0","yearMonthDay <- function(y, m, d){"
"0","  date <- paste(as.character(y),paste(m, d, sep = ""-""), sep = ""-"")"
"0","  date <- as.Date(date, ""%Y-%m-%d"")"
"0","}"
"0","arrival_date <- yearMonthDay(y = timeSeriesDataSet$ArrivalDateYear,"
"0","                             m = timeSeriesDataSet$ArrivalDateMonth,"
"0","                             d = timeSeriesDataSet$ArrivalDateDayOfMonth)"
"0","reservationDate <- arrival_date - timeSeriesDataSet$LeadTime"
"0","reservationDate <- as.data.frame(reservationDate) "
"0",""
"0","# reservationDate <- reservationDate%>%rename( 'reservationDate' = 'arrival_date' )"
"0",""
"0","         "
"0","a = reservationDate %>% group_by(reservationDate) %>% summarise(n = n())"
"0","data <- as.xts(a$n,order.by=as.Date(a$reservationDate))"
"0","weekly <- apply.weekly(data,sum)"
"0","weekly <- as.data.frame(weekly)"
"0",""
"0","#index of a dataframe to columns"
"0","library(data.table)"
"0","setDT(weekly, keep.rownames = TRUE)[]"
